//=================================================================================//--- Video Rating System//--- Created by Chris Hall, USANA Studios April 2009 chris.hall@us.usana.com//--- All Rights Reserved//--- com.videoRating.utils.sendEmail.as //=================================================================================  package com.videoRating.utils {		//=================================================================================//--- Import the needed classes//=================================================================================	import flash.display.*;	import flash.events.*;	import flash.net.*;	import flash.utils.*;		import mx.core.*;	import mx.managers.CursorManager;	import mx.controls.Alert;//=================================================================================//--- This class is used to send the notification email//=================================================================================	public class sendEmail extends MovieClip 	{		public var sender:String = "uRate@us.usana.com";	public var receiver:String = Application.application.email;	public const PHPPATH:String = "php/sendEmail.php";		public var mailReq:URLRequest = new URLRequest(Application.application.URL + PHPPATH);	public var mailVars:URLVariables = new URLVariables();	public var proxy:URLLoader = new URLLoader();		public var vars:URLVariables = new URLVariables();	public var load:URLLoader = new URLLoader();	public var req:URLRequest = new URLRequest("http://www.usanamedia.com/uRate/results/doSave.php");		public function sendEmail():void {}public function sendDatabase():void{		vars.video= Application.application.videoID;	vars.timestamp=Application.application._timestamp;	vars.userId= Application.application.userID;	vars.sampleProvider= Application.application.sampleProvider;	vars.Age=Application.application._age;	vars.Gender=Application.application._gender;	vars.Zip=Application.application._zip;	vars.Residence=Application.application._residence;	vars.Race=Application.application._race;	vars.results=Application.application._results;		req.data = vars;	load.addEventListener(Event.COMPLETE, itsComplete);	load.addEventListener(IOErrorEvent.IO_ERROR, errorFunc);	req.method = URLRequestMethod.POST;	load.load(req);	CursorManager.setBusyCursor();} private function errorFunc():void{	Alert.show("There was an error connecting to the database");}public function dispatch(_fileName:String):void{		/*	mailVars.xmlContent = Application.application.XMLData;	mailVars.fileName = _fileName;	mailVars.yourEmail = sender;	mailVars.friendEmail = receiver;	mailVars.vid = Application.application.videoID;	mailVars.daMessage = "The path to this report is: " + Application.application.URL + "php/" + _fileName + ".xml";	mailVars.link = Application.application.URL + "php/" + _fileName + ".xml";		mailReq.data = mailVars;	proxy.addEventListener(Event.COMPLETE, itsComplete);	mailReq.method= URLRequestMethod.POST;	proxy.load(mailReq);	*/}public function itsComplete(event:Event):void {		CursorManager.removeBusyCursor();	Application.application.sendComplete();}	}}